<div class="overflow-hidden">
  <AnimatedContainer>
    {{#animated-value this.state use=this.crossFadeAndMatch as |state|}}
      {{#if (eq state "init")}}
        {{!-- nothing is going on --}}
      {{/if}}
      {{#if (eq state "makingNew")}}
        {{!-- Creating new item --}}
        <Products::InputForm @product={{this.product}} @submit={{action this.createProduct}} />
      {{/if}}
      {{#if (eq state "addingExisting")}}
        {{!-- Adding existing item --}}
        <ProductGroups::ProductManagement::SelectProduct />
      {{/if}}
    {{/animated-value}}
  </AnimatedContainer>
</div>

<div class="my-4 overflow-hidden">
  <AnimatedContainer>
    {{#animated-value this.state use=this.crossFadeAndMatch as |state|}}
      {{#if (eq state "init")}}
        <button {{action (mut this.state) "makingNew"}} class="btn btn-primary inline-block">New</button>
        <button {{action (mut this.state) "addingExisting"}} class="btn btn-secondary inline-block">Add</button>
      {{/if}}
      {{#if (eq state "makingNew")}}
        <button {{action this.createProduct}} class="btn btn-primary inline-block">Create</button>
        <button {{action (mut this.state) "addingExisting"}} class="btn btn-secondary inline-block">Add</button>
      {{/if}}
      {{#if (eq state "addingExisting")}}
        <button {{action (mut this.state) "makingNew"}} class="btn btn-secondary inline-block">New</button>
        <button {{action (mut this.state) "init"}} class="btn btn-primary inline-block">Add</button>
      {{/if}}
    {{/animated-value}}
  </AnimatedContainer>
</div>
